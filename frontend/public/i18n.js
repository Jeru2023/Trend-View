(function (global) {
  const registry = {
    shared: {
      en: {
        brandName: "Trend View",
        brandTagline: "Investment Intelligence Hub",
        navBasics: "Basic Insights",
        navBasicInfo: "Basic Info",
        navNews: "Market News",
        navSignals: "Technical Signals",
        navPortfolio: "Portfolio Monitor",
        navControl: "Control Panel",
        navNewsGroup: "News",
        navDailyFinance: "Daily Finance",
      },
      zh: {
        brandName: "趋势视图",
        brandTagline: "智能投研中心",
        navBasics: "基础洞察",
        navBasicInfo: "基础信息",
        navNews: "市场资讯",
        navSignals: "技术信号",
        navPortfolio: "组合监控",
        navControl: "控制面板",
        navNewsGroup: "资讯",
        navDailyFinance: "每日财经",
      },
    },
    basicInfo: {
      en: {
        title: "Trend View - Basic Info",
        pageTitle: "Basic Information",
        pageSubtitle: "Review fundamentals and recent market performance with ease.",
        filterKeyword: "Keyword",
        filterMarket: "Market",
        filterExchange: "Exchange",
        filterAll: "All",
        filterMainboard: "Main Board",
        filterChiNext: "ChiNext",
        filterStar: "STAR Market",
        reset: "Reset",
        apply: "Apply",
        tabBasic: "Basic",
        tabStatistics: "Statistics",
        colCode: "Code",
        colName: "Name",
        colIndustry: "Industry",
        colMarket: "Market",
        colExchange: "Exchange",
        colPrice: "Last Price",
        colChange: "Change (%)",
        colVolume: "Volume",
        colMarketCap: "Market Cap",
        colPe: "PE Ratio",
        colTurnover: "Turnover Rate",
        statsPlaceholder: "Statistical metrics are coming soon.",
        paginationPrev: "Previous",
        paginationNext: "Next",
        paginationInfo: "Page {current} of {totalPages} · {total} results",
        noData: "No data available",
        exchangeSSE: "SSE",
        exchangeSZSE: "SZSE",
        exchangeBSE: "BSE",
      },
      zh: {
        title: "趋势视图 - 基础信息",
        pageTitle: "基础信息",
        pageSubtitle: "快速掌握核心基本面与最新行情。",
        filterKeyword: "关键词",
        filterMarket: "市场",
        filterExchange: "交易所",
        filterAll: "全部",
        filterMainboard: "主板",
        filterChiNext: "创业板",
        filterStar: "科创板",
        reset: "重置",
        apply: "应用",
        tabBasic: "基础数据",
        tabStatistics: "统计数据",
        colCode: "代码",
        colName: "名称",
        colIndustry: "行业",
        colMarket: "板块",
        colExchange: "交易所",
        colPrice: "最新价",
        colChange: "涨跌幅",
        colVolume: "成交量",
        colMarketCap: "市值",
        colPe: "市盈率",
        colTurnover: "换手率",
        statsPlaceholder: "统计指标即将上线。",
        paginationPrev: "上一页",
        paginationNext: "下一页",
        paginationInfo: "第 {current} / {totalPages} 页 · 共 {total} 条",
        noData: "暂无数据",
        exchangeSSE: "上交所",
        exchangeSZSE: "深交所",
        exchangeBSE: "北交所",
      },
    },
    controlPanel: {
      en: {
        title: "Trend View - Control Panel",
        pageTitle: "Control Panel",
        syncSectionTitle: "Data Synchronization",
        syncSectionSubtitle: "Trigger updates manually and monitor automated job status in real time.",
        stockBasicTitle: "Stock Basic Data",
        stockBasicSubtitle: "Monthly refresh (1st of each month) or run manually as needed.",
        dailyTradeTitle: "Daily Trade Data",
        dailyTradeSubtitle: "Scheduled daily at 17:00; follow batch progress when running.",
        dailyIndicatorTitle: "Daily Indicators",
        dailyIndicatorSubtitle: "Fetch daily basic metrics and valuation ratios after the market closes (auto 17:05).",
        incomeStatementTitle: "Income Statements",
        incomeStatementSubtitle: "Fetch the latest statements per stock sequentially via the Tushare income API.",
        financialIndicatorTitle: "Financial Indicators",
        financialIndicatorSubtitle:
          "Collect per-stock profitability and efficiency ratios via the Tushare fina_indicator API.",
        financeBreakfastTitle: "Finance Breakfast",
        financeBreakfastSubtitle: "Daily morning digest sourced from Eastmoney (AkShare stock_info_cjzc_em).",
        runNow: "Run Now",
        lastStatus: "Status",
        dataUpdated: "Data Updated",
        lastDuration: "Last Duration",
        records: "Records",
        configSectionTitle: "Configuration",
        configSectionSubtitle: "Adjust query filters and default window sizes for automated jobs.",
        includeStLabel: "Include ST stocks in queries",
        includeStHint: "When enabled, ST/*ST securities appear in list results.",
        includeDelistedLabel: "Include delisted stocks",
        includeDelistedHint: "When disabled, delisted/paused securities are hidden.",
        windowLabel: "Daily trade window (days)",
        windowHint: "Used by scheduled and manual daily trade updates.",
        saveSettings: "Save Settings",
        statusIdle: "Idle",
        statusRunning: "Running",
        statusSuccess: "Completed",
        statusFailed: "Failed",
        statusUnknown: "Unknown",
        messageNone: "Awaiting next run.",
        toastConfigSaved: "Configuration updated",
      },
      zh: {
        title: "趋势视图 - 控制面板",
        pageTitle: "控制面板",
        syncSectionTitle: "数据同步",
        syncSectionSubtitle: "手动触发更新，并实时监控自动任务状态。",
        stockBasicTitle: "股票基础数据",
        stockBasicSubtitle: "每月1日自动刷新，必要时可手动执行。",
        dailyTradeTitle: "日度交易数据",
        dailyTradeSubtitle: "每日17:00自动刷新，可查看批次进度。",
        dailyIndicatorTitle: "每日指标",
        dailyIndicatorSubtitle: "结合每日基础指标与估值信息，17:05 自动同步。",
        incomeStatementTitle: "利润表数据",
        incomeStatementSubtitle: "逐个股票调用 income 接口获取最新利润表数据。",
        financialIndicatorTitle: "财务指标数据",
        financialIndicatorSubtitle: "逐个股票调用 fina_indicator 接口同步盈利能力与运营效率指标。",
        financeBreakfastTitle: "财经早餐",
        financeBreakfastSubtitle: "每日早间资讯，来源东方财富财经早餐（AkShare stock_info_cjzc_em）。",
        runNow: "立即执行",
        lastStatus: "当前状态",
        dataUpdated: "数据更新时间",
        lastDuration: "上次耗时",
        records: "记录数",
        configSectionTitle: "配置",
        configSectionSubtitle: "调整筛选条件与自动任务的默认窗口。",
        includeStLabel: "查询结果包含 ST 股票",
        includeStHint: "启用后，ST/*ST 证券会显示在列表中。",
        includeDelistedLabel: "查询结果包含退市股票",
        includeDelistedHint: "关闭后，退市或停牌证券将被隐藏。",
        windowLabel: "日度交易历史窗口（天）",
        windowHint: "影响自动与手动日度交易抓取的时间范围。",
        saveSettings: "保存配置",
        statusIdle: "空闲",
        statusRunning: "运行中",
        statusSuccess: "已完成",
        statusFailed: "失败",
        statusUnknown: "未知",
        messageNone: "等待下一次运行。",
        toastConfigSaved: "配置已更新",
      },
    },
    financeBreakfast: {
      en: {
        title: "Trend View - Daily Finance",
        pageTitle: "Daily Finance",
        sectionTitle: "Morning Briefing",
        sectionSubtitle: "Start the trading day with curated highlights from Eastmoney.",
        emptyState: "No finance news available.",
        publishedAt: "Published",
        readMore: "Read more",
      },
      zh: {
        title: "趋势视图 - 每日财经",
        pageTitle: "每日财经",
        sectionTitle: "财经早餐",
        sectionSubtitle: "东财财经早餐精选，开启你的一天。",
        emptyState: "暂无财经早餐内容。",
        publishedAt: "发布时间",
        readMore: "查看详情",
      },
    },
  };

  function mergeSections(sections) {
    const result = {};
    sections.forEach((key) => {
      const section = registry[key];
      if (!section) {
        return;
      }
      Object.keys(section).forEach((lang) => {
        if (!result[lang]) {
          result[lang] = {};
        }
        Object.assign(result[lang], section[lang]);
      });
    });
    return result;
  }

  global.getTranslations = function getTranslations(namespace) {
    const sections = ["shared"];
    if (namespace) {
      sections.push(namespace);
    }
    return mergeSections(sections);
  };

  global.availableLanguages = Object.keys(registry.shared);
})(window);
