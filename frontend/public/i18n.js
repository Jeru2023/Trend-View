(function (global) {
  const registry = {
    shared: {
      en: {
        brandName: "Trend View",
        brandTagline: "Investment Intelligence Hub",
        navBasics: "Market",
        navMarketIntelligence: "Market Intelligence",
        navNews: "Market News",
        navSignals: "Technical Signals",
        navPortfolio: "Portfolio Monitor",
        navSettings: "Settings",
        navConfigCenter: "Configuration Center",
        navControl: "Control Panel",
        navNewsGroup: "News",
        navDailyFinance: "Daily Finance",
        favoriteGroupAll: "All groups",
        favoriteGroupNone: "Ungrouped"
      },
      zh: {
        brandName: "趋势视图",
        brandTagline: "智能投研中心",
        navBasics: "市场",
        navMarketIntelligence: "市场洞察",
        navNews: "市场资讯",
        navSignals: "技术信号",
        navPortfolio: "组合监控",
        navSettings: "设置",
        navConfigCenter: "配置中心",
        navControl: "控制面板",
        navNewsGroup: "资讯",
        navDailyFinance: "每日财经",
        favoriteGroupAll: "全部分组",
        favoriteGroupNone: "未分组"
      }
    },
    marketIntelligence: {
      en: {
        title: "Trend View - Market Intelligence",
        pageTitle: "Market Intelligence Dashboard",
        pageSubtitle: "Blend fundamentals, trading flow, and custom signals for actionable insights.",
        filterKeyword: "Keyword",
        filterMarket: "Market",
        filterExchange: "Exchange",
        filterAll: "All",
        filterMainboard: "Main Board",
        filterChiNext: "ChiNext",
        filterStar: "STAR Market",
        filterVolumeSpike: "Volume Spike >",
        filterPe: "PE Ratio >",
        filterRoe: "ROE >",
        filterNetIncomeQoq: "Net Profit QoQ >",
        filterNetIncomeYoy: "Net Profit YoY >",
        reset: "Reset",
        apply: "Apply",
        favoritesBannerText: "Watchlist mode · showing favorite stocks only.",
        favoritesBannerClear: "View all stocks",
        favoritesGroupLabel: "Group",
        favoritesBadgeLabel: "In watchlist",
      tabTradingData: "Trading Data",
      tabFinancialData: "Financial Data",
      tabTradingStats: "Trading Stats",
      tabFinancialStats: "Financial Stats",
        colCode: "Code",
        colName: "Name",
        colFavoriteGroup: "Group",
        colIndustry: "Industry",
        colMarket: "Market",
        colExchange: "Exchange",
        colPrice: "Last Price",
        colChange: "Change (%)",
        colVolume: "Volume",
        colMarketCap: "Market Cap",
      colPe: "PE Ratio",
      colTurnover: "Turnover Rate",
      colAnnDate: "Announcement Date",
      colEndDate: "Reporting Period",
      colBasicEps: "Basic EPS",
      colRevenue: "Revenue (M)",
      colOperateProfit: "Operating Profit (M)",
      colNetIncome: "Net Profit (M)",
      colGrossMargin: "Gross Profit (M)",
      colRoe: "ROE",
      colNetIncomeYoyLatest: "Net Profit YoY (Latest)",
      colNetIncomeYoyPrev1: "Net Profit YoY<br>(Prev)",
      colNetIncomeYoyPrev2: "Net Profit YoY<br>(Prev-2)",
      colNetIncomeQoqLatest: "Net Profit QoQ",
      colReportingPeriod: "Reporting Period",
      colRevenueYoyLatest: "Revenue YoY",
      colRevenueQoqLatest: "Revenue QoQ",
      colRoeYoyLatest: "ROE YoY",
      colRoeQoqLatest: "ROE QoQ",
      colPct1Y: "1Y Change (%)",
        colPct6M: "6M Change (%)",
        colPct3M: "3M Change (%)",
        colPct1M: "1M Change (%)",
        colPct2W: "2W Change (%)",
        colPct1W: "1W Change (%)",
        colVolumeSpike: "Volume Spike (10D Avg)",
        colMa20: "MA20",
        colMa10: "MA10",
        colMa5: "MA5",
        statsPlaceholder: "Statistical metrics are coming soon.",
        paginationPrev: "Previous",
        paginationNext: "Next",
        paginationInfo: "Page {current} of {totalPages} · {total} results",
        noData: "No data available",
        exchangeSSE: "SSE",
        exchangeSZSE: "SZSE",
        exchangeBSE: "BSE"
      },
      zh: {
        title: "趋势视图 - 市场洞察",
        pageTitle: "市场洞察中心",
        pageSubtitle: "整合财务与行情数据，支持自定义筛选与信号分析。",
        filterKeyword: "关键词",
        filterMarket: "市场",
        filterExchange: "交易所",
        filterAll: "全部",
        filterMainboard: "主板",
        filterChiNext: "创业板",
        filterStar: "科创板",
        filterVolumeSpike: "成交量异动 >",
        filterPe: "市盈率 >",
        filterRoe: "ROE >",
        filterNetIncomeQoq: "净利润环比 >",
        filterNetIncomeYoy: "净利润同比 >",
        reset: "重置",
        apply: "应用",
        favoritesBannerText: "已启用关注列表模式，仅展示关注股票。",
        favoritesBannerClear: "查看全部股票",
        favoritesGroupLabel: "分组",
        favoritesBadgeLabel: "已加入关注列表",
        tabTradingData: "交易数据",
        tabFinancialData: "财务数据",
        tabTradingStats: "交易统计",
        tabFinancialStats: "财务统计",
        colCode: "代码",
        colName: "名称",
        colFavoriteGroup: "分组",
        colIndustry: "行业",
        colMarket: "板块",
        colExchange: "交易所",
        colPrice: "最新价",
        colChange: "涨跌幅",
        colVolume: "成交量",
        colMarketCap: "市值",
        colPe: "市盈率",
        colTurnover: "换手率",
        colAnnDate: "公告日期",
        colEndDate: "报告期",
        colBasicEps: "每股收益",
        colRevenue: "营收（百万）",
        colOperateProfit: "营业利润（百万）",
        colNetIncome: "净利润（百万）",
      colGrossMargin: "毛利（百万）",
      colRoe: "资产收益率",
      colNetIncomeYoyLatest: "净利润同比",
      colNetIncomeYoyPrev1: "净利润同比<br>（上一期）",
      colNetIncomeYoyPrev2: "净利润同比<br>（上上期）",
      colNetIncomeQoqLatest: "净利润环比",
        colReportingPeriod: "报告期",
      colRevenueYoyLatest: "营收同比",
      colRevenueQoqLatest: "营收环比",
      colRoeYoyLatest: "ROE同比",
      colRoeQoqLatest: "ROE环比",
        colPct1Y: "一年涨跌幅",
        colPct6M: "半年涨跌幅",
        colPct3M: "三个月涨跌幅",
        colPct1M: "一个月涨跌幅",
        colPct2W: "两周涨跌幅",
        colPct1W: "一周涨跌幅",
        colVolumeSpike: "成交量异动",
        colMa20: "20日均线",
        colMa10: "10日均线",
        colMa5: "5日均线",
        statsPlaceholder: "统计指标即将上线。",
        paginationPrev: "上一页",
        paginationNext: "下一页",
        paginationInfo: "第 {current} / {totalPages} 页 · 共 {total} 条",
        noData: "暂无数据",
        exchangeSSE: "上交所",
        exchangeSZSE: "深交所",
        exchangeBSE: "北交所"
      }
    },
    controlPanel: {
      en: {
        title: "Trend View - Control Panel",
        pageTitle: "Control Panel",
        syncSectionTitle: "Data Synchronization",
        syncSectionSubtitle: "Trigger updates manually and monitor automated job status in real time.",
        tradeGroupTitle: "Trading Data Jobs",
        fundamentalsGroupTitle: "Fundamental Data Jobs",
        newsGroupTitle: "News & Insights",
        stockBasicTitle: "Stock Basic Data",
        stockBasicSubtitle: "Monthly refresh (1st of each month) or run manually as needed.",
        dailyTradeTitle: "Daily Trade Data",
        dailyTradeSubtitle: "Scheduled daily at 17:00; follow batch progress when running.",
        dailyTradeMetricsTitle: "Daily Trade Metrics",
        dailyTradeMetricsSubtitle:
          "Generate rolling returns and moving averages from the daily_trade table (auto 19:00).",
        dailyIndicatorTitle: "Daily Indicators",
        dailyIndicatorSubtitle: "Fetch daily basic metrics and valuation ratios after the market closes (auto 17:05).",
        incomeStatementTitle: "Income Statements",
        incomeStatementSubtitle: "Fetch the latest statements per stock sequentially via the Tushare income API.",
        financialIndicatorTitle: "Financial Indicators",
        financialIndicatorSubtitle:
          "Collect per-stock profitability and efficiency ratios via the Tushare fina_indicator API.",
        fundamentalMetricsTitle: "Fundamental Metrics",
        fundamentalMetricsSubtitle:
          "Compute YoY and QoQ KPIs from income statements and indicators (auto 19:10).",
        financeBreakfastTitle: "Finance Breakfast",
        financeBreakfastSubtitle: "Daily morning digest sourced from Eastmoney (AkShare stock_info_cjzc_em).",
        runNow: "Run Now",
        lastStatus: "Status",
        dataUpdated: "Data Updated",
        lastDuration: "Last Duration",
        records: "Records",
        configSectionTitle: "Configuration",
        configSectionSubtitle: "Adjust query filters and default window sizes for automated jobs.",
        includeStLabel: "Include ST stocks in queries",
        includeStHint: "When enabled, ST/*ST securities appear in list results.",
        includeDelistedLabel: "Include delisted stocks",
        includeDelistedHint: "When disabled, delisted/paused securities are hidden.",
        windowLabel: "Daily trade window (days)",
        windowHint: "Used by scheduled and manual daily trade updates.",
        saveSettings: "Save Settings",
        statusIdle: "Idle",
        statusRunning: "Running",
        statusSuccess: "Completed",
        statusFailed: "Failed",
        statusUnknown: "Unknown",
        messageNone: "Awaiting next run.",
        toastConfigSaved: "Configuration updated",
        configTitle: "Trend View - Configuration Center",
        configPageTitle: "Configuration Center",
        configPageSubtitle: "Adjust platform-wide filters and automation defaults."
      },
      zh: {
        title: "趋势视图 - 控制面板",
        pageTitle: "控制面板",
        syncSectionTitle: "数据同步",
        syncSectionSubtitle: "手动触发更新，并实时监控自动任务状态。",
        tradeGroupTitle: "交易数据任务",
        fundamentalsGroupTitle: "基本面任务",
        newsGroupTitle: "资讯任务",
        stockBasicTitle: "股票基础数据",
        stockBasicSubtitle: "每月1日自动刷新，必要时可手动执行。",
        dailyTradeTitle: "日度交易数据",
        dailyTradeSubtitle: "每日17:00自动刷新，可查看批次进度。",
        dailyTradeMetricsTitle: "交易衍生指标",
        dailyTradeMetricsSubtitle: "基于 daily_trade 数据计算区间涨跌幅与均线，19:00 自动更新。",
        dailyIndicatorTitle: "每日指标",
        dailyIndicatorSubtitle: "结合每日基础指标与估值信息，17:05 自动同步。",
        incomeStatementTitle: "利润表数据",
        incomeStatementSubtitle: "逐个股票调用 income 接口获取最新利润表数据。",
        financialIndicatorTitle: "财务指标数据",
        financialIndicatorSubtitle: "逐个股票调用 fina_indicator 接口同步盈利能力与运营效率指标。",
        fundamentalMetricsTitle: "基本面衍生指标",
        fundamentalMetricsSubtitle:
          "基于最新财报计算净利润、营收、ROE 的同比与环比（19:10 自动执行）。",
        financeBreakfastTitle: "财经早餐",
        financeBreakfastSubtitle: "每日早间资讯，来源东方财富财经早餐（AkShare stock_info_cjzc_em）。",
        runNow: "立即执行",
        lastStatus: "当前状态",
        dataUpdated: "数据更新时间",
        lastDuration: "上次耗时",
        records: "记录数",
        configSectionTitle: "配置",
        configSectionSubtitle: "调整筛选条件与自动任务的默认窗口。",
        includeStLabel: "查询结果包含 ST 股票",
        includeStHint: "启用后，ST/*ST 证券会显示在列表中。",
        includeDelistedLabel: "查询结果包含退市股票",
        includeDelistedHint: "关闭后，退市或停牌证券将被隐藏。",
        windowLabel: "日度交易历史窗口（天）",
        windowHint: "影响自动与手动日度交易抓取的时间范围。",
        saveSettings: "保存配置",
        statusIdle: "空闲",
        statusRunning: "运行中",
        statusSuccess: "已完成",
        statusFailed: "失败",
        statusUnknown: "未知",
        messageNone: "等待下一次运行。",
        toastConfigSaved: "配置已更新",
        configTitle: "趋势视图 - 配置中心",
        configPageTitle: "配置中心",
        configPageSubtitle: "调整平台级筛选条件与自动任务默认参数。"
      }
    },
    stockDetail: {
      en: {
        title: "Trend View - Stock Detail",
        pageTitle: "Trend View - Stock Detail",
        loading: "Loading stock detail...",
        errorGeneric: "Unable to load stock detail. Please try again later.",
        errorNotFound: "Stock not found.",
        errorNoCode: "No stock code provided. Use a link from the dashboard.",
        noCandlestickData: "Price history is not available.",
        updatedAt: "Updated {date}",
        candlestickTitle: "Daily Candlestick",
        candlestickSubtitle: "Latest trading range trend.",
        profileTitle: "Profile",
        tradingSnapshotTitle: "Trading Snapshot",
        financialDataTitle: "Financial Summary",
        tradingStatsTitle: "Trading Stats",
        financialStatsTitle: "Financial Stats",
        langEn: "EN",
        langZh: "中文",
        favoriteToggleLabelAdd: "Add to watchlist",
        favoriteToggleLabelRemove: "Remove from watchlist",
        favoriteToggleTooltipAdd: "Add this stock to your watchlist",
        favoriteToggleTooltipRemove: "Remove this stock from your watchlist",
        favoriteToggleError: "Unable to update watchlist. Please try again.",
        favoriteGroupDialogTitle: "Add to watchlist",
        favoriteGroupDialogExistingLabel: "Choose a group",
        favoriteGroupDialogNewOption: "Create new group",
        favoriteGroupDialogNewPlaceholder: "New group name",
        favoriteGroupDialogNote: "Groups help organize your watchlist.",
        favoriteGroupDialogCancel: "Cancel",
        favoriteGroupDialogConfirm: "Save",
        favoriteGroupDialogErrorRequired: "Please enter a group name.",
        favoriteGroupDialogFallback: "Enter a group name (leave blank for ungrouped)",
        favoriteToastAdded: "Added to watchlist ({group})",
        favoriteToastRemoved: "Removed from watchlist",
        labelCode: "Code",
        labelName: "Name",
        labelIndustry: "Industry",
        labelMarket: "Market",
        labelExchange: "Exchange",
        labelStatus: "Status",
        labelTradeDate: "Trading Date",
        labelLastPrice: "Last Price",
        labelChange: "Change",
        labelVolume: "Volume",
        labelMarketCap: "Market Cap",
        labelPe: "PE Ratio",
        labelTurnover: "Turnover Rate",
        labelAnnDate: "Announcement Date",
        labelEndDate: "Reporting Period",
        labelBasicEps: "Basic EPS",
        labelRevenue: "Revenue (M)",
        labelOperateProfit: "Operating Profit (M)",
        labelNetIncome: "Net Profit (M)",
        labelGrossMargin: "Gross Profit (M)",
        labelRoe: "ROE",
        labelPct1Y: "1Y Return",
        labelPct6M: "6M Return",
        labelPct3M: "3M Return",
        labelPct1M: "1M Return",
        labelPct2W: "2W Return",
        labelPct1W: "1W Return",
        labelVolumeSpike: "Volume Spike (10D Avg)",
        labelMa20: "MA20",
        labelMa10: "MA10",
        labelMa5: "MA5",
        labelReportingPeriod: "Reporting Period",
        labelNetIncomeYoyLatest: "Net Profit YoY",
        labelNetIncomeYoyPrev1: "Net Profit YoY (Prev)",
        labelNetIncomeYoyPrev2: "Net Profit YoY (Prev-2)",
        labelNetIncomeQoqLatest: "Net Profit QoQ",
        labelRevenueYoyLatest: "Revenue YoY",
        labelRevenueQoqLatest: "Revenue QoQ",
        labelRoeYoyLatest: "ROE YoY",
        labelRoeQoqLatest: "ROE QoQ"
      },
      zh: {
        title: "趋势视图 - 股票详情",
        pageTitle: "趋势视图 - 股票详情",
        loading: "正在加载股票详情...",
        errorGeneric: "暂时无法获取股票详情，请稍后重试。",
        errorNotFound: "未找到该股票。",
        errorNoCode: "缺少股票代码，请从仪表盘进入详情。",
        noCandlestickData: "暂缺价格走势数据。",
        updatedAt: "更新日期 {date}",
        candlestickTitle: "日K走势",
        candlestickSubtitle: "展示最近的交易区间与趋势。",
        profileTitle: "基本信息",
        tradingSnapshotTitle: "交易快照",
        financialDataTitle: "财务摘要",
        tradingStatsTitle: "交易统计",
        financialStatsTitle: "财务统计",
        langEn: "EN",
        langZh: "中文",
        favoriteToggleLabelAdd: "加入关注列表",
        favoriteToggleLabelRemove: "移出关注列表",
        favoriteToggleTooltipAdd: "将该股票加入关注列表",
        favoriteToggleTooltipRemove: "从关注列表移除该股票",
        favoriteToggleError: "更新关注状态失败，请重试。",
        favoriteGroupDialogTitle: "选择关注分组",
        favoriteGroupDialogExistingLabel: "已存在分组",
        favoriteGroupDialogNewOption: "新建分组",
        favoriteGroupDialogNewPlaceholder: "输入新的分组名称",
        favoriteGroupDialogNote: "通过分组可以更好地管理关注列表。",
        favoriteGroupDialogCancel: "取消",
        favoriteGroupDialogConfirm: "保存",
        favoriteGroupDialogErrorRequired: "请填写分组名称。",
        favoriteGroupDialogFallback: "请输入分组名称（留空则为未分组）",
        favoriteToastAdded: "已添加到关注列表（{group}）",
        favoriteToastRemoved: "已从关注列表移除",
        labelCode: "代码",
        labelName: "名称",
        labelIndustry: "行业",
        labelMarket: "板块",
        labelExchange: "交易所",
        labelStatus: "状态",
        labelTradeDate: "交易日",
        labelLastPrice: "最新价",
        labelChange: "涨跌幅",
        labelVolume: "成交量",
        labelMarketCap: "总市值",
        labelPe: "市盈率",
        labelTurnover: "换手率",
        labelAnnDate: "公告日期",
        labelEndDate: "报告期",
        labelBasicEps: "基本每股收益",
        labelRevenue: "营业收入 (百万元)",
        labelOperateProfit: "营业利润 (百万元)",
        labelNetIncome: "净利润 (百万元)",
        labelGrossMargin: "毛利润 (百万元)",
        labelRoe: "净资产收益率",
        labelPct1Y: "近1年涨跌",
        labelPct6M: "近6个月涨跌",
        labelPct3M: "近3个月涨跌",
        labelPct1M: "近1个月涨跌",
        labelPct2W: "近2周涨跌",
        labelPct1W: "近1周涨跌",
        labelVolumeSpike: "成交量异动 (10日均)",
        labelMa20: "20日均线",
        labelMa10: "10日均线",
        labelMa5: "5日均线",
        labelReportingPeriod: "报告期",
        labelNetIncomeYoyLatest: "净利润同比",
        labelNetIncomeYoyPrev1: "净利润同比 (前一期)",
        labelNetIncomeYoyPrev2: "净利润同比 (前两期)",
        labelNetIncomeQoqLatest: "净利润环比",
        labelRevenueYoyLatest: "营收同比",
        labelRevenueQoqLatest: "营收环比",
        labelRoeYoyLatest: "ROE 同比",
        labelRoeQoqLatest: "ROE 环比"
      }
    },
    financeBreakfast: {
      en: {
        title: "Trend View - Daily Finance",
        pageTitle: "Daily Finance",
        sectionTitle: "Morning Briefing",
        sectionSubtitle: "Start the trading day with curated highlights from Eastmoney.",
        emptyState: "No finance news available.",
        publishedAt: "Published",
        readMore: "Read more",
        aiInsightsTitle: "AI Insights",
        aiSummaryHeading: "Daily Summary",
        aiEventsHeading: "Impact Analysis",
        aiImpactDirection: "Direction",
        aiImpactIntensity: "Impact Score",
        aiImpactScope: "Scope",
        aiImpactTargets: "Targets",
        aiImpactDuration: "Duration",
        aiImpactStrategy: "Strategy",
        aiImpactDetails: "Impact Rationale",
        aiImpactTags: "Tags"
      },
      zh: {
        title: "趋势视图 - 每日财经",
        pageTitle: "每日财经",
        sectionTitle: "财经早餐",
        sectionSubtitle: "东财财经早餐精选，开启你的一天。",
        emptyState: "暂无财经早餐内容。",
        publishedAt: "发布时间",
        readMore: "查看详情",
        aiInsightsTitle: "AI 摘要",
        aiSummaryHeading: "当日总结",
        aiEventsHeading: "影响分析",
        aiImpactDirection: "影响方向",
        aiImpactIntensity: "影响强度",
        aiImpactScope: "影响范围",
        aiImpactTargets: "影响标的",
        aiImpactDuration: "持续时间",
        aiImpactStrategy: "投资策略",
        aiImpactDetails: "影响理由",
        aiImpactTags: "标签"
      }
    }
  };

  function mergeSections(sections) {
    const result = {};
    sections.forEach((key) => {
      const section = registry[key];
      if (!section) {
        return;
      }
      Object.keys(section).forEach((lang) => {
        if (!result[lang]) {
          result[lang] = {};
        }
        Object.assign(result[lang], section[lang]);
      });
    });
    return result;
  }

  global.getTranslations = function getTranslations(namespace) {
    const sections = ["shared"];
    if (namespace) {
      sections.push(namespace);
    }
    return mergeSections(sections);
  };

  global.availableLanguages = Object.keys(registry.shared);
})(window);

