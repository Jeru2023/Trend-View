<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="pageTitle">Trend View - Stock Detail</title>
    <link rel="stylesheet" href="styles.css?v=20251226" />
    <script>
      window.API_BASE_URL = window.API_BASE_URL || "http://localhost:8000";
    </script>
  </head>
  <body data-active-nav="market-intelligence">
    <div class="layout">
      <div data-sidebar-container></div>

      <main class="content detail-content">
        <header class="content__header detail-header">
          <div class="detail-header__info">
            <a class="detail-back-link" href="index.html">
              <svg
                class="detail-back-link__icon"
                viewBox="0 0 24 24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M15.75 4.5a.75.75 0 0 1 0 1.06L10.31 11l5.44 5.44a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0z" />
              </svg>
              <span class="sr-only" data-i18n="back">Back</span>
            </a>
            <div class="detail-title-group">
              <div class="detail-title-wrapper">
                <h1 class="detail-title" id="detail-title"></h1>
                <div class="detail-title-tags">
                  <a
                    id="detail-link-xueqiu"
                    class="detail-title-tag hidden"
                    href="#"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    雪球
                  </a>
                  <a
                    id="detail-link-eastmoney"
                    class="detail-title-tag hidden"
                    href="#"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    东方财富
                  </a>
                </div>
              </div>
              <button
                class="favorite-toggle"
                id="favorite-toggle"
                type="button"
                aria-pressed="false"
                title=""
              >
                <span class="sr-only" data-i18n="favoriteToggleLabelAdd">Add to watchlist</span>
                <svg
                  class="favorite-toggle__icon"
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  focusable="false"
                >
                  <path d="M12 21.35 10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.74 0 3.41 1.01 4.07 2.57C11.23 5.01 12.9 4 14.64 4 17.14 4 19.14 6 19.14 8.5c0 3.78-3.4 6.86-8.55 11.54z" />
                </svg>
              </button>
            </div>
            <p class="detail-subtitle" id="detail-subtitle"></p>
          </div>
          <div class="detail-header__actions">
            <div class="detail-search" id="detail-search">
              <input
                id="detail-search-input"
                type="search"
                class="search-box detail-search__input"
                placeholder="Search stocks by code or name"
                data-placeholder-en="Search stocks by code or name"
                data-placeholder-zh="按代码或名称搜索股票"
                aria-label="Search stocks"
                aria-autocomplete="list"
                aria-controls="detail-search-results"
                aria-expanded="false"
                autocomplete="off"
                spellcheck="false"
                enterkeyhint="search"
              />
              <div
                class="detail-search__results hidden"
                id="detail-search-results"
                role="listbox"
              ></div>
            </div>
            <div class="language-switcher detail-header__language">
              <button class="lang-btn" data-lang="en" data-i18n="langEn">EN</button>
              <button class="lang-btn" data-lang="zh" data-i18n="langZh">中文</button>
            </div>
          </div>
        </header>

        <section class="detail-status" id="detail-status" data-i18n="loading">Loading...</section>

        <section class="detail-hero hidden" id="detail-hero">
          <div class="detail-hero__primary">
            <div>
              <p class="detail-hero__label" data-i18n="labelLastPrice">Last Price</p>
              <p class="detail-hero__price" id="hero-price">--</p>
            </div>
            <div class="detail-hero__change" id="hero-change">--</div>
          </div>
          <div class="detail-hero__meta">
            <span id="hero-meta">--</span>
            <span class="detail-hero__updated" id="hero-updated"></span>
          </div>
          <div class="detail-hero__stats">
            <div class="detail-hero__stat">
              <span class="detail-hero__stat-label" data-i18n="labelMarketCap">Market Cap</span>
              <span class="detail-hero__stat-value" id="hero-market-cap">--</span>
            </div>
            <div class="detail-hero__stat">
              <span class="detail-hero__stat-label" data-i18n="labelVolume">Volume</span>
              <span class="detail-hero__stat-value" id="hero-volume">--</span>
            </div>
            <div class="detail-hero__stat">
              <span class="detail-hero__stat-label" data-i18n="labelPe">PE Ratio</span>
              <span class="detail-hero__stat-value" id="hero-pe">--</span>
            </div>
            <div class="detail-hero__stat">
              <span class="detail-hero__stat-label" data-i18n="labelTurnover">Turnover</span>
              <span class="detail-hero__stat-value" id="hero-turnover">--</span>
            </div>
          </div>
        </section>

        <section class="detail-grid hidden" id="detail-grid">
          <article class="detail-card detail-card--wide performance-card hidden" id="performance-card">
            <header class="detail-card__header">
              <h2 data-i18n="performanceCardTitle">Performance Highlights</h2>
              <p class="detail-card__subtitle" data-i18n="performanceCardSubtitle">
                Latest express and forecast snapshots.
              </p>
            </header>
            <div class="performance-highlights">
              <article class="performance-tile" id="performance-express-tile"></article>
              <article class="performance-tile" id="performance-forecast-tile"></article>
            </div>
          </article>

          <article class="detail-card hidden" id="individual-fund-flow-card">
            <header class="detail-card__header">
              <h2 data-i18n="individualFundFlowCardTitle">Individual Fund Flow</h2>
            </header>
            <div class="individual-fund-flow-list" id="individual-fund-flow-list"></div>
          </article>

          <article class="detail-card hidden" id="big-deal-card">
            <header class="detail-card__header">
              <h2 data-i18n="bigDealCardTitle">Large Order Tracker</h2>
              <p class="detail-card__subtitle" data-i18n="bigDealCardSubtitle">
                Most recent big-deal transactions.
              </p>
            </header>
            <div class="big-deal-list" id="big-deal-list"></div>
          </article>

          <article class="detail-card detail-card--wide" id="candlestick-card">
            <header class="detail-card__header">
              <h2 data-i18n="candlestickTitle">Daily Candlestick</h2>
              <p class="detail-card__subtitle" data-i18n="candlestickSubtitle">
                Latest trading range trend.
              </p>
            </header>
            <div class="candlestick-chart" id="candlestick-chart"></div>
            <div class="chart-empty hidden" id="candlestick-empty" data-i18n="noCandlestickData">
              Price history is not available.
            </div>
          </article>

          <div class="business-section hidden" id="business-composition-section">
            <article class="detail-card detail-card--elevated hidden" id="main-business-card">
              <header class="detail-card__header">
                <h2 data-i18n="mainBusinessCardTitle">Business Overview</h2>
                <p class="detail-card__subtitle" data-i18n="mainBusinessCardSubtitle">
                  Tonghuashun main business snapshot.
                </p>
              </header>
              <div class="business-info" id="main-business-list"></div>
              <p class="detail-empty hidden" id="main-business-empty" data-i18n="mainBusinessEmpty">
                Main business details are not available yet.
              </p>
            </article>

            <article class="detail-card detail-card--elevated hidden" id="main-composition-card">
              <header class="detail-card__header">
                <h2 data-i18n="mainCompositionCardTitle">Revenue Composition</h2>
                <p class="detail-card__subtitle" id="main-composition-report-date"></p>
              </header>
              <div class="composition-groups" id="main-composition-groups"></div>
              <p class="detail-empty hidden" id="main-composition-empty" data-i18n="mainCompositionEmpty">
                Main composition details are not available yet.
              </p>
            </article>
          </div>

          <article class="detail-card detail-card--wide" id="stats-card">
            <header class="detail-card__header">
              <h2 data-i18n="tradingStatsTitle">Trading Stats</h2>
            </header>
            <div class="detail-list" id="stats-list"></div>
          </article>

          <div class="financial-summary-row">
            <article class="detail-card" id="fundamentals-card">
              <header class="detail-card__header">
                <h2 data-i18n="financialStatsTitle">Financial Stats</h2>
              </header>
              <div class="detail-list" id="fundamentals-list"></div>
            </article>
            <article class="detail-card" id="financial-card">
              <header class="detail-card__header">
                <h2 data-i18n="financialDataTitle">Financial Summary</h2>
              </header>
              <div class="detail-list" id="financial-list"></div>
            </article>
          </div>
        </section>
      </main>
    </div>

    <script src="i18n.js?v=20251226"></script>
    <script src="sidebar.js?v=20260306"></script>
    <script type="module" src="stock-detail.js?v=20260306"></script>
  </body>
</html>
